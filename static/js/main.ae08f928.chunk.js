(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(37)},33:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(15),c=a.n(r),l=(a(31),a(32),a(33),a(9)),i=a(10),u=a(13),o=a(11),d=a(14),h=a(45),S=a(24),m=a(25),p=a(8),f=a(3),v=a(41),w=a(42),b=a(43),q=a(22),E=a(44),y=a(38),g=a(46),k=a(39),j=a(40),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={selectedSoundIdx:0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){if(t.selectedSoundIdx!==this.state.selectedSoundIdx){var n=this.props.row-1;this.props.handleSoundSelect(n,this.state.selectedSoundIdx)}}},{key:"changeSelectedSound",value:function(e,t){this.setState({selectedSoundIdx:t}),this.props.handleSoundSelect(e,t)}},{key:"render",value:function(){var e=this,t=this.props.sounds,a=this.props.row-1,n=t.map(function(t,n){return s.a.createElement(y.a,{key:n,active:e.state.selectedSoundIdx===n,onClick:function(){return e.changeSelectedSound(a,n)}},t)});return s.a.createElement(g.a,{size:"sm"},s.a.createElement(k.a,{caret:!0},t[this.state.selectedSoundIdx]),s.a.createElement(j.a,null,n))}}]),t}(n.Component),x=a(17);function N(e){var t=e.sounds,a=e.handleSoundSelect,n=e.activeStep,r=e.seqRow,c=e.addSound,l=e.row,i=e.steps,u=e.isHeader,o=[],d=0;if(void 0!==u&&u){for(o.push(s.a.createElement("th",{key:"header-none"}));d<i;)o.push(s.a.createElement("th",{key:"header-"+d+1,className:d===n?"table-info text-white":null},d+1)),d++;return s.a.createElement("tr",{className:"text-center"},o)}for(;d<i;)o.push(s.a.createElement("td",{key:l+"-"+d,onClick:c,id:l+"-"+d,style:{cursor:"pointer"},className:null!==r[d]?"table-warning":null})),d++;return s.a.createElement("tr",null,s.a.createElement("th",{scope:"row",className:"text-center"},"Track ",l,s.a.createElement(O,{row:l,sounds:t,handleSoundSelect:a})),o)}function C(e){for(var t=[],a=1;a<=e.rows;)t.push(s.a.createElement(N,{key:a,sounds:e.sounds,handleSoundSelect:e.handleSoundSelect,activeStep:e.activeStep,seqRow:e.sequencer[a-1].rowSeq,addSound:e.addSound,row:a,steps:e.steps})),a++;return t}var I=function(e){function t(e){var a;Object(l.a)(this,t);return(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={isDefaultState:!0,isPlaying:!1,bpm:120,activeStep:0,sequencer:new Array(2).fill({rowSeq:new Array(8).fill(null),rowSoundEngine:new x.Howl({src:[a.props.soundUrls[0]]})})},a.stopSequencer=a.stopSequencer.bind(Object(f.a)(Object(f.a)(a))),a.clearSequencer=a.clearSequencer.bind(Object(f.a)(Object(f.a)(a))),a.resetSequencer=a.resetSequencer.bind(Object(f.a)(Object(f.a)(a))),a.addSound=a.addSound.bind(Object(f.a)(Object(f.a)(a))),a.handleSoundSelect=a.handleSoundSelect.bind(Object(f.a)(Object(f.a)(a))),a.handleBPMChange=a.handleBPMChange.bind(Object(f.a)(Object(f.a)(a))),a.rows=2,a.steps=8,a.soundEngines=a.props.soundUrls.map(function(e){return new x.Howl({src:[e]})}),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"addTrack",value:function(){var e=this.state.sequencer.map(function(e){return Object(p.a)({},e)});e.push({rowSeq:new Array(e[0].rowSeq.length).fill(null),rowSoundEngine:null}),e.length>=9?alert("Maximum Number of Tracks: 8"):this.setState({sequencer:e})}},{key:"addStep",value:function(){var e=this.state.sequencer.map(function(e){return Object(p.a)({},e)});for(var t in e)e[t].rowSeq=[].concat(Object(m.a)(e[t].rowSeq),[null]);e[0].rowSeq.length>=17?alert("Maximum Number of Steps: 16"):this.setState({sequencer:e})}},{key:"handleSoundSelect",value:function(e,t){var a=this.state.sequencer.map(function(e){return Object(p.a)({},e)});a[e].rowSoundEngine=this.soundEngines[t],this.setState({sequencer:a})}},{key:"componentDidUpdate",value:function(e,t,a){if(t.activeStep!==this.state.activeStep)for(var n in this.state.sequencer)null!==this.state.sequencer[n].rowSeq[this.state.activeStep]&&null!==this.state.sequencer[n].rowSoundEngine&&this.state.sequencer[n].rowSoundEngine.play()}},{key:"playSequencer",value:function(e){var t=this;this.setState({isDefaultState:!1}),this.setState({isPlaying:!0});var a=this.state.sequencer[0].rowSeq.length,n=6e4/e;this.activeStepID=setInterval(function(){return t.setState(function(e){return{activeStep:(e.activeStep+1)%a}})},n)}},{key:"stopSequencer",value:function(){this.setState({isPlaying:!1}),clearInterval(this.activeStepID)}},{key:"clearSequencer",value:function(){this.setState({isDefaultState:!0}),this.setState({isPlaying:!1}),clearInterval(this.activeStepID),this.setState({activeStep:0});var e=this.state.sequencer.map(function(e){return Object(p.a)({},e)});for(var t in e)e[t].rowSeq=e[t].rowSeq.fill(null);this.setState({sequencer:e})}},{key:"resetSequencer",value:function(){this.setState({isDefaultState:!0}),this.setState({isPlaying:!1}),clearInterval(this.activeStepID),this.setState({activeStep:0});var e=new Array(this.rows).fill({rowSeq:new Array(this.steps).fill(null),rowSoundEngine:new x.Howl({src:[this.props.soundUrls[0]]})});this.setState({sequencer:e})}},{key:"addSound",value:function(e){var t=e.target.id.split("-"),a=Object(S.a)(t,2),n=a[0],s=a[1],r=this.state.sequencer[n-1].rowSeq.slice();r[s]=null===r[s]?"x":null;var c=this.state.sequencer.map(function(e){return Object(p.a)({},e)});c[n-1].rowSeq=r,this.setState({sequencer:c})}},{key:"componentWillUnmount",value:function(){clearInterval(this.activeStepID)}},{key:"handleBPMChange",value:function(e){this.setState({bpm:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.sequencer[0].rowSeq.length,a=this.state.sequencer.length;return s.a.createElement(n.Fragment,null,s.a.createElement(v.a,{className:"text-center"},s.a.createElement(w.a,null,s.a.createElement("h3",null,"Sequencer"))),s.a.createElement(v.a,null,s.a.createElement(w.a,null,s.a.createElement(b.a,{bordered:!0,className:"text-muted"},s.a.createElement("thead",null,s.a.createElement(N,{activeStep:this.state.activeStep,steps:t,isHeader:!0})),s.a.createElement("tbody",null,s.a.createElement(C,{activeStep:this.state.activeStep,sounds:this.props.sounds,handleSoundSelect:this.handleSoundSelect,sequencer:this.state.sequencer,addSound:this.addSound,rows:a,steps:t}))))),s.a.createElement(v.a,{className:"text-center mb-3"},s.a.createElement(w.a,null,s.a.createElement(q.a,{color:"warning",className:"mr-3",onClick:this.resetSequencer},"Reset"),s.a.createElement(q.a,{color:"warning",className:"ml-3 mr-3",onClick:this.clearSequencer},"Clear"),s.a.createElement(q.a,{color:"danger",className:"ml-3 mr-3",onClick:this.stopSequencer},"Stop"),s.a.createElement(q.a,{color:"success",className:"ml-3",onClick:function(){return e.playSequencer(e.state.bpm)}},"Play"))),s.a.createElement(v.a,{className:"text-center text-muted"},s.a.createElement(w.a,null,s.a.createElement(q.a,{className:this.state.isDefaultState?"m-3":"d-none m-3",onClick:function(){return e.addTrack()}},s.a.createElement("i",{className:"fa fa-plus-circle"})," Tracks"),s.a.createElement(q.a,{className:this.state.isDefaultState?"m-3":"d-none m-3",onClick:function(){return e.addStep()}},s.a.createElement("i",{className:"fa fa-plus-circle"})," Steps"))),s.a.createElement(v.a,{className:this.state.isPlaying?"d-none":"text-muted text-center"},s.a.createElement(w.a,{xs:"2"},s.a.createElement("h4",null,"BPM")),s.a.createElement(w.a,{xs:"8"},s.a.createElement(E.a,{type:"range",min:60,max:700,value:this.state.bpm,onChange:this.handleBPMChange})),s.a.createElement(w.a,{xs:"2"},s.a.createElement("h4",null,this.state.bpm))))}}]),t}(n.Component),D=(a(36),["Kick","Snare","Castanets"]),P=["../public/sounds/bass-drum__025_forte_bass-drum-mallet.mp3","../public/sounds/snare-drum__025_forte_with-snares.mp3","../public/sounds/castanets__025_mezzo-forte_struck-singly.mp3"],_=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(h.a,null,s.a.createElement(I,{sounds:D,soundUrls:P}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.ae08f928.chunk.js.map