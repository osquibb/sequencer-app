(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(49)},38:function(e,t,a){},41:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),l=a(9),r=a.n(l),c=(a(36),a(37),a(38),a(10)),i=a(11),o=a(14),u=a(12),d=a(15),h=a(3),m=a(57),S=a(53),p=a(54),b=a(61),f=a(58),g=a(59),v=a(60),w=a(27),E=a(29),q=a(30),y=a(8),k=a(55),O=a(56),j=a(50),x=a(62),C=a(51),N=a(52),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={selectedSoundIdx:0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){if(t.selectedSoundIdx!==this.state.selectedSoundIdx){var n=this.props.row-1;this.props.handleSoundSelect(n,this.state.selectedSoundIdx)}}},{key:"changeSelectedSound",value:function(e,t){this.setState({selectedSoundIdx:t}),this.props.handleSoundSelect(e,t)}},{key:"render",value:function(){var e=this,t=this.props.sounds,a=this.props.row-1,n=t.map(function(t,n){return s.a.createElement(j.a,{key:n,active:e.state.selectedSoundIdx===n,onClick:function(){return e.changeSelectedSound(a,n)}},t)});return s.a.createElement(x.a,{size:"sm"},s.a.createElement(C.a,{caret:!0},t[this.state.selectedSoundIdx]),s.a.createElement(N.a,null,n))}}]),t}(n.Component),D=a(17);function P(e){var t=e.sounds,a=e.handleSoundSelect,n=e.activeStep,l=e.seqRow,r=e.addSound,c=e.row,i=e.steps,o=e.isHeader,u=[],d=0;if(void 0!==o&&o){for(u.push(s.a.createElement("th",{style:{border:"1px solid #ffd7a8"},key:"header-none"}));d<i;)u.push(s.a.createElement("th",{style:{border:"1px solid #ffd7a8"},key:"header-"+d+1,className:d===n?"table-warning font-weight-light":"font-weight-light"},d+1)),d++;return s.a.createElement("tr",{className:"text-center"},u)}for(;d<i;)u.push(s.a.createElement("td",{key:c+"-"+d,onClick:r,id:c+"-"+d,style:{cursor:"pointer",opacity:"0.7",border:"1px solid #ffd7a8"},className:null!==l[d]?"table-primary":null})),d++;return s.a.createElement("tr",null,s.a.createElement("th",{style:{border:"1px solid #ffd7a8"},scope:"row",className:"text-center font-weight-light"},"Track ",c,s.a.createElement(I,{row:c,sounds:t,handleSoundSelect:a})),u)}function M(e){for(var t=[],a=1;a<=e.rows;)t.push(s.a.createElement(P,{key:a,sounds:e.sounds,handleSoundSelect:e.handleSoundSelect,activeStep:e.activeStep,seqRow:e.sequencer[a-1].rowSeq,addSound:e.addSound,row:a,steps:e.steps})),a++;return t}var T=function(e){function t(e){var a;Object(c.a)(this,t);return(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={isDefaultState:!0,isPlaying:!1,bpm:240,activeStep:0,sequencer:new Array(2).fill({rowSeq:new Array(6).fill(null),rowSoundEngine:new D.Howl({src:[a.props.soundUrls[0]]})})},a.stopSequencer=a.stopSequencer.bind(Object(h.a)(Object(h.a)(a))),a.clearSequencer=a.clearSequencer.bind(Object(h.a)(Object(h.a)(a))),a.resetSequencer=a.resetSequencer.bind(Object(h.a)(Object(h.a)(a))),a.addSound=a.addSound.bind(Object(h.a)(Object(h.a)(a))),a.handleSoundSelect=a.handleSoundSelect.bind(Object(h.a)(Object(h.a)(a))),a.handleBPMChange=a.handleBPMChange.bind(Object(h.a)(Object(h.a)(a))),a.rows=2,a.steps=6,a.soundEngines=a.props.soundUrls.map(function(e){return new D.Howl({src:[e]})}),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"addTrack",value:function(){var e=this.state.sequencer.map(function(e){return Object(y.a)({},e)});e.push({rowSeq:new Array(e[0].rowSeq.length).fill(null),rowSoundEngine:null}),e.length>=9?alert("Maximum Number of Tracks: 8"):this.setState({sequencer:e})}},{key:"addStep",value:function(){var e=this.state.sequencer.map(function(e){return Object(y.a)({},e)});for(var t in e)e[t].rowSeq=[].concat(Object(q.a)(e[t].rowSeq),[null]);e[0].rowSeq.length>=17?alert("Maximum Number of Steps: 16"):this.setState({sequencer:e})}},{key:"handleSoundSelect",value:function(e,t){var a=this.state.sequencer.map(function(e){return Object(y.a)({},e)});a[e].rowSoundEngine=this.soundEngines[t],this.setState({sequencer:a})}},{key:"componentDidUpdate",value:function(e,t,a){if(t.activeStep!==this.state.activeStep)for(var n in this.state.sequencer)null!==this.state.sequencer[n].rowSeq[this.state.activeStep]&&null!==this.state.sequencer[n].rowSoundEngine&&this.state.sequencer[n].rowSoundEngine.play()}},{key:"playSequencer",value:function(e){var t=this;this.setState({isDefaultState:!1}),this.setState({isPlaying:!0});var a=this.state.sequencer[0].rowSeq.length,n=6e4/e;this.activeStepID=setInterval(function(){return t.setState(function(e){return{activeStep:(e.activeStep+1)%a}})},n)}},{key:"stopSequencer",value:function(){this.setState({isPlaying:!1}),clearInterval(this.activeStepID)}},{key:"clearSequencer",value:function(){this.setState({isDefaultState:!0}),this.setState({isPlaying:!1}),clearInterval(this.activeStepID),this.setState({activeStep:0});var e=this.state.sequencer.map(function(e){return Object(y.a)({},e)});for(var t in e)e[t].rowSeq=e[t].rowSeq.fill(null);this.setState({sequencer:e})}},{key:"resetSequencer",value:function(){this.setState({isDefaultState:!0}),this.setState({isPlaying:!1}),clearInterval(this.activeStepID),this.setState({activeStep:0});var e=new Array(this.rows).fill({rowSeq:new Array(this.steps).fill(null),rowSoundEngine:new D.Howl({src:[this.props.soundUrls[0]]})});this.setState({sequencer:e})}},{key:"addSound",value:function(e){var t=e.target.id.split("-"),a=Object(E.a)(t,2),n=a[0],s=a[1],l=this.state.sequencer[n-1].rowSeq.slice();l[s]=null===l[s]?"x":null;var r=this.state.sequencer.map(function(e){return Object(y.a)({},e)});r[n-1].rowSeq=l,this.setState({sequencer:r})}},{key:"componentWillUnmount",value:function(){clearInterval(this.activeStepID)}},{key:"handleBPMChange",value:function(e){this.setState({bpm:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.sequencer[0].rowSeq.length,a=this.state.sequencer.length;return s.a.createElement(n.Fragment,null,s.a.createElement(S.a,null,s.a.createElement(p.a,null,s.a.createElement(k.a,{className:"text-muted mt-3",style:{"background-color":"#d5ede4",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},s.a.createElement("thead",null,s.a.createElement(P,{activeStep:this.state.activeStep,steps:t,isHeader:!0})),s.a.createElement("tbody",null,s.a.createElement(M,{activeStep:this.state.activeStep,sounds:this.props.sounds,handleSoundSelect:this.handleSoundSelect,sequencer:this.state.sequencer,addSound:this.addSound,rows:a,steps:t}))))),s.a.createElement(S.a,{className:"text-center mb-3 font-weight-light"},s.a.createElement(p.a,null,s.a.createElement(w.a,{color:"info",outline:!0,className:"mr-3",onClick:this.resetSequencer},"Reset"),s.a.createElement(w.a,{color:"info",outline:!0,className:"ml-3 mr-3",onClick:this.clearSequencer},"Clear"),s.a.createElement(w.a,{color:"danger",outline:!0,className:"ml-3 mr-3",onClick:this.stopSequencer},"Stop"),s.a.createElement(w.a,{color:"success",outline:!0,className:"ml-3",onClick:function(){return e.playSequencer(e.state.bpm)}},"Play"))),s.a.createElement(S.a,{className:"text-center text-muted"},s.a.createElement(p.a,{className:"font-weight-light"},s.a.createElement(w.a,{outline:!0,className:this.state.isDefaultState?"m-3":"d-none m-3",onClick:function(){return e.addTrack()}},s.a.createElement("i",{className:"fa fa-plus-circle"})," Tracks"),s.a.createElement(w.a,{outline:!0,className:this.state.isDefaultState?"m-3":"d-none m-3",onClick:function(){return e.addStep()}},s.a.createElement("i",{className:"fa fa-plus-circle"})," Steps"))),s.a.createElement(S.a,{className:this.state.isPlaying?"d-none":"text-muted text-center"},s.a.createElement(p.a,{xs:"2"},s.a.createElement("h5",null,"BPM")),s.a.createElement(p.a,{xs:"8"},s.a.createElement(O.a,{type:"range",min:60,max:700,value:this.state.bpm,onChange:this.handleBPMChange})),s.a.createElement(p.a,{xs:"2"},s.a.createElement("h5",{className:"font-weight-light"},this.state.bpm))))}}]),t}(n.Component),B=(a(41),["Kick","Snare","Castanets","Cymbals","Tambourine","Woodblock"]),H=["https://osquibb.github.io/public/sounds/kick.mp3","https://osquibb.github.io/public/sounds/snare.mp3","https://osquibb.github.io/public/sounds/castanets.mp3","https://osquibb.github.io/public/sounds/cymbals.mp3","https://osquibb.github.io/public/sounds/tambourine.mp3","https://osquibb.github.io/public/sounds/woodblock.mp3"],U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={modal:!0},a.toggleModal=a.toggleModal.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"toggleModal",value:function(){this.setState({modal:!1})}},{key:"render",value:function(){return s.a.createElement(n.Fragment,null,s.a.createElement(m.a,null,s.a.createElement(S.a,{className:"text-center mt-4"},s.a.createElement(p.a,null,s.a.createElement("h2",null,"Step Sequencer"))),s.a.createElement(T,{sounds:B,soundUrls:H})),s.a.createElement(b.a,{isOpen:this.state.modal,toggle:this.toggleModal},s.a.createElement(f.a,{toggle:this.toggle},"How to Play"),s.a.createElement(g.a,null,s.a.createElement("ol",null,s.a.createElement("li",null,"Click on cells in the sequencer"),s.a.createElement("li",null,"Then press play!")),s.a.createElement("p",null,"(Hint: Try adding tracks and changing the sounds!)")),s.a.createElement(v.a,null,s.a.createElement(w.a,{color:"info",outline:!0,onClick:this.toggleModal},"Got it!"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.afc5bd69.chunk.js.map